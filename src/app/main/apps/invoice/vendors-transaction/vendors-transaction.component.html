<div class="content-wrapper container-xxl p-0">
  <div class="content-body">
    <!-- Invoice List -->
    <section class="invoice-list-wrapper">
      <div class="card ">
        <div class="collapse-icon sr7-a1">
          <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-1">
            <ngb-panel>
              <ng-template ngbPanelTitle >
                <span class="btn-primary rounded width-150 height-50 d-flex align-items-center justify-content-center my-1">
                  Transaction
                </span>
              </ng-template>
              <ng-template ngbPanelContent>
                <form class="source-item sr7-b" [formGroup]="transactionForm">
                  <div class="row w-100 pr-lg-0 pr-1 py-2 sr7-pm">
                    <!--                        <<<<<<<<<<select><>>>>>>>>>-->
                    <div class="col-md-6 col-12 form-group">
                      <p class="card-text col-title mb-md-50 mb-0 " for="cat">VENDORS</p>
                      <ng-select placeholder="Select Vendor Name"
                                 class="sr7-ng searchable_select"
                                 (change)="getInvoices($event)"
                                 [items]="vendors"
                                 bindLabel="name"
                                 bindValue="id"
                      >
                        <ng-template
                                ng-option-tmp
                                ng-label-tmp
                                id="cat"
                                let-item="item"
                        >
                          {{ item.name }}
                        </ng-template>
                      </ng-select>
                    </div>
                    <div class="col-md-6 col-12 form-group ">
                      <p class="card-text col-title mb-md-50 mb-0" for="sub-cat">INVOICE NUMBER</p>
                      <ng-select placeholder="Select Invoice" class="  sr7-ng"
                                 (change)="getTransaction($event)"
                                 [items]="invoices"
                                 bindLabel="invoice"
                                 bindValue="id"
                      >
                        <ng-template
                                ng-option-tmp
                                ng-label-tmp
                                id="sub-cat"
                                let-item="item"
                        >
                          {{ item.invoice }}
                        </ng-template>
                      </ng-select>
                    </div>
                    <!--                        <<<<<<<<<<select><>>>>>>>>>-->
                    <div class="col-lg-3 col-12 mb-lg-0 ">
                      <p class="card-text col-title mb-md-50 mb-0">PERSON PAY</p>
                      <input
                              type="text"
                              class="form-control"
                              name="person_pay"
                              placeholder="Name..."
                              formControlName="person_pay"
                      />

                    </div>
                    <div class="col-lg-3 col-12 mb-lg-0 ">
                      <p class="card-text col-title mb-md-50 mb-0">PAYMENT</p>
                      <input
                              type="number"
                              class="form-control"
                              name="payment"
                              placeholder="$ 00.00"
                              formControlName="payment"
                              (focus)="onPayment()"
                              (focusout)="outPayment()"
                      />

                    </div>
                    <div class="col-lg-3 col-12 mb-lg-0 ">
                      <p class="card-text col-title mb-md-50 mb-0">DEPOSIT</p>
                      <input
                              type="number"
                              class="form-control"
                              name="deposit"
                              placeholder="$ 00.00"
                              formControlName="deposit"
                              (focus)="onDeposit()"
                              (focusout)="outDeposit()"
                      />

                    </div>
                    <!--                        <<<<<<<<<<date><>>>>>>>>>-->

                    <div class="col-lg-3 col-12 mb-lg-0 ">
                      <p class="card-text col-title mb-md-50 mb-0">DATE</p>
                      <div class="form-group">
                        <div class="input-group">
                          <input
                                  class="form-control"
                                  placeholder="yyyy-mm-dd"
                                  name="date"
                                  ngbDatepicker
                                  #i18nDP="ngbDatepicker"
                                  (dateSelect)="setFromDate($event)"
                          />
                          <div class="input-group-append">
                            <button
                                    class="btn btn-outline-secondary feather icon-calendar"
                                    (click)="i18nDP.toggle()"
                                    type="button"
                                    rippleEffect
                            ></button>
                          </div>


                        </div>
                      </div>

                    </div>
                    <div class="col-lg-12 col-12 mb-lg-0 ">
                      <p class="card-text col-title mb-md-50 mb-0">COMMENT</p>
                      <textarea
                              class="form-control"
                              id="text"
                              name="comment"
                              placeholder="comment ...."
                              rows="2"
                              formControlName="comment"
                      >
                          </textarea>
                    </div>
                    <div class="col-12 mt-3 d-flex justify-content-center">
                      <button type="button" class="btn btn-primary d-flex"
                              (click)="submit()" rippleEffect>

                        <ngx-loading *ngIf="spinner" [show]="true" class="mr-25" [config]="{
                                                    animationType: ngxLoadingAnimationTypes.circle,
                                                    primaryColour: '#5e50ee',
                                                    backdropBorderRadius: '0.5px',
                                                    backgroundColor: '#FFFFFF'
                                                    }"
                        >
                        </ngx-loading>
                        <span class="align-middle m-auto">Submit</span>
                      </button>
                    </div>


                  </div>
                </form>

              </ng-template>
            </ngb-panel>
          </ngb-accordion>
        </div>
        <div >
          <div class="d-flex">
            <div class="d-flex justify-content-between align-items-center ml-1 mb-1">
              <div class="d-flex align-items-center">
                <label class="d-flex align-items-center"
                >Show
                  <select class="form-control mx-25" [(ngModel)]="selectedOption">
                    <option value="5">5</option>
                    <option value="10">10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                  </select>
                </label>
              </div>
            </div>
            <div class="d-flex justify-content-between align-items-center ml-2" *ngIf="moneyMessage">
              <h2 class="font-weight-bolder ">Total Debt Money: {{moneyMessage | currency}}</h2>
            </div>
          </div>
        </div>        <!--/ Invoice List Header -->
        <!-- Invoice List Table -->
        <ngx-datatable
          [rows]="rowsProducts"
          [rowHeight]="50"
          class="bootstrap core-bootstrap"
          [limit]="selectedOption"
          [columnMode]="ColumnMode.force"
          [headerHeight]="50"
          [footerHeight]="50"
          [scrollbarH]="true"
          id="prodTable"
        >
          <ngx-datatable-column name="Payeer" prop="person_pay" [width]="50">
            <ng-template let-person_pay="value" ngx-datatable-cell-template>
              <span class="font-weight-bold"> {{ person_pay }}</span>
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="Date" prop="date" [width]="50">
            <ng-template let-date="value" ngx-datatable-cell-template>
              <span class="font-weight-bold"> {{ date }}</span>
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="Deposit" prop="deposit" [width]="50">
            <ng-template let-deposit="value" ngx-datatable-cell-template>
              <span class="font-weight-bold" *ngIf="deposit"> ${{ deposit }}</span>
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="Payment" prop="payment" [width]="50">
            <ng-template let-payment="value" ngx-datatable-cell-template>
              <span class="font-weight-bold" *ngIf="payment"> ${{ payment }}</span>
            </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="Balance" prop="balance" [width]="50">
            <ng-template let-balance="value" ngx-datatable-cell-template>
              <span class="font-weight-bold"> ${{ balance }}</span>
            </ng-template>
          </ngx-datatable-column>

<!--          <ngx-datatable-column name="Description" prop="description" [width]="150">-->
<!--            <ng-template let-description="value" ngx-datatable-cell-template>-->
<!--              <span class="font-weight-bold">{{ description | slice:0:25}}</span>-->
<!--            </ng-template>-->
<!--          </ngx-datatable-column>-->

          <ngx-datatable-column name="Actions" [width]="40" [sortable]="false">
            <ng-template ngx-datatable-cell-template let-row="row">
              <div class="d-flex align-items-center col-actions">
                <div ngbDropdown container="body">
                  <button ngbDropdownToggle type="button" class="btn icon-btn btn-sm hide-arrow px-0" rippleEffect>
                    <i data-feather="more-vertical" size="18" class="cursor-pointer"></i>
                  </button>
                  <div ngbDropdownMenu>
                    <a (click)="openEdit(contentEdit, row.id, row)" ngbDropdownItem>
                      <i data-feather="edit" class="mr-1"></i>
                        Edit
                    </a>
<!--                    <a (click)="deleteProd(row.id)" ngbDropdownItem>-->
<!--                      <i data-feather="trash" class="mr-1"></i>-->
<!--                      Delete-->
<!--                    </a>-->
<!--                    <a (click)="open(content, row.id)" ngbDropdownItem>-->
<!--                      <i data-feather="edit" class="mr-1"></i>-->
<!--                      Add New Quantity-->
<!--                    </a>-->
                  </div>
                </div>
              </div>
            </ng-template>
          </ngx-datatable-column>
        </ngx-datatable>
        <!--/ Invoice List Table -->
      </div>
    </section>
    <!--/ Invoice List -->
  </div>
</div>
<ng-template #contentEdit let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="myModalLabel2">Edit account</h4>
    <button type="button" class="close" (click)="modal.dismiss('Cross click')" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body" tabindex="0" ngbAutofocus>
    <form action="#" [formGroup]="editForm">
<!--      <div class="col-lg-12 col-12 form-group">-->
<!--        <p class="card-text col-title mb-md-50 mb-0 " for="cat">VENDORS</p>-->
<!--        <ng-select placeholder="Select Vendor Name"-->
<!--                   class="sr7-ng searchable_select"-->
<!--                   (change)="getInvoices2($event)"-->
<!--                   [items]="vendors"-->
<!--                   bindLabel="name"-->
<!--                   bindValue="id"-->
<!--        >-->
<!--          <ng-template-->
<!--                  ng-option-tmp-->
<!--                  ng-label-tmp-->
<!--                  id="cat"-->
<!--                  let-item="item"-->
<!--          >-->
<!--            {{ item.name }}-->
<!--          </ng-template>-->
<!--        </ng-select>-->
<!--      </div>-->
<!--      <div class="col-lg-12 col-12 form-group ">-->
<!--        <p class="card-text col-title mb-md-50 mb-0" for="sub-cat">INVOICE NUMBER</p>-->
<!--        <ng-select placeholder="Select Invoice" class="  sr7-ng"-->
<!--                   (change)="selectedItem($event)"-->
<!--                   [items]="invoices"-->
<!--                   bindLabel="invoice_id"-->
<!--                   bindValue="id"-->
<!--        >-->
<!--          <ng-template-->
<!--                  ng-option-tmp-->
<!--                  ng-label-tmp-->
<!--                  id="sub-cat"-->
<!--                  let-item="item"-->
<!--          >-->
<!--            {{ item.invoice_id }}-->
<!--          </ng-template>-->
<!--        </ng-select>-->
<!--      </div>-->
      <!--                        <<<<<<<<<<select><>>>>>>>>>-->
      <div class="col-lg-12 col-12 mb-lg-0 my-2">
        <p class="card-text col-title mb-md-50 mb-0">PERSON PAY</p>
        <input
                type="text"
                class="form-control"
                name="person_pay"
                placeholder="Name..."
                formControlName="person_pay"
        />

      </div>
      <div class="col-lg-12 col-12 mb-lg-0 my-2">
        <p class="card-text col-title mb-md-50 mb-0">PAYMENT</p>
        <input
                type="number"
                class="form-control"
                name="payment"
                placeholder="$ 00.00"
                formControlName="payment"
                (focus)="onPaymentEdit()"
                (focusout)="outPaymentEdit()"
        />

      </div>
      <div class="col-lg-12 col-12 mb-lg-0 my-2">
        <p class="card-text col-title mb-md-50 mb-0">DEPOSIT</p>
        <input
                type="number"
                class="form-control"
                name="deposit"
                placeholder="$ 00.00"
                formControlName="deposit"
                (focus)="onDepositEdit()"
                (focusout)="outDepositEdit()"
        />

      </div>
      <!--                        <<<<<<<<<<date><>>>>>>>>>-->

      <div class="col-lg-12 col-12 mb-lg-0 my-2">
        <p class="card-text col-title mb-md-50 mb-0">DATE</p>
        <div class="form-group">
          <div class="input-group">
            <input
                    [(ngModel)]="dateModel"
                    [ngModelOptions]="{standalone: true}"
                    class="form-control"
                    placeholder="yyyy-mm-dd"
                    name="date"
                    ngbDatepicker
                    #i18nDP1="ngbDatepicker"
                    (dateSelect)="setFromDate2($event)"
            />
            <div class="input-group-append">
              <button
                      class="btn btn-outline-secondary feather icon-calendar"
                      (click)="i18nDP1.toggle()"
                      type="button"
                      rippleEffect
              ></button>
            </div>


          </div>
        </div>

      </div>
      <div class="col-lg-12 col-12 mb-lg-0 my-2">
        <p class="card-text col-title mb-md-50 mb-0">COMMENT</p>
        <textarea
                class="form-control"
                id="text"
                name="comment"
                placeholder="comment ...."
                rows="2"
                formControlName="comment"
        >
                          </textarea>
      </div>
      <div class="modal-footer justify-content-center">
        <button type="button" class="btn btn-primary d-flex"
                (click)="onEdit()" rippleEffect>
          <ngx-loading *ngIf="spinner1" [show]="true" class="mr-25" [config]="{
                                                    animationType: ngxLoadingAnimationTypes1.circle,
                                                    primaryColour: '#5e50ee',
                                                    backdropBorderRadius: '0.5px',
                                                    backgroundColor: '#FFFFFF'}"
          >
          </ngx-loading>
          <span class="align-middle m-auto">Submit</span>
        </button>
      </div>
    </form>
  </div>
</ng-template>
