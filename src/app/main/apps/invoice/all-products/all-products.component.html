<div class="content-wrapper container-xxl p-0">
    <div class="content-body">
        <!-- Invoice List -->
        <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs sr7-tabs">
            <li [ngbNavItem]="1">
                <a class="width-200 height-50 d-flex align-items-center justify-content-center mr-1 ml-50 my-1 shadow"
                   ngbNavLink>All Products list</a>
                <ng-template ngbNavContent>
                    <section class="invoice-list-wrapper">
                        <div class="card">
                            <!-- Invoice List Header -->
                            <div class="row">
                                <div class="col-md-6 col-lg-4 col-12">
                                    <div class="d-flex justify-content-between align-items-center m-1">
                                        <div class="d-flex align-items-center">
                                            <label class="d-flex align-items-center"
                                            >Show
                                                <select class="form-control mx-25" [(ngModel)]="selectedOption">
                                                    <option value="5">5</option>
                                                    <option value="10">10</option>
                                                    <option value="25">25</option>
                                                    <option value="50">50</option>
                                                    <option value="100">100</option>
                                                </select>
                                            </label>
                                            <button class="btn btn-primary ml-2"
                                                    routerLink="/dashboard/products-addition" rippleEffect>Add Product
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div
                                        class="
              col-md-8 col-lg-4 col-12
              d-flex
              align-items-center
              offset-lg-2
              sr7-d
            "
                                >
                                    <div class="d-flex pr-1 pb-1 pb-md-0 align-items-center w-100 sr7-3">
                                        <div class="col-10 col-md-6 pr-0 sr7-2">
                                            <label class="d-flex align-items-center mb-0 ml-1 ml-md-0 sr7-1"
                                            ><input
                                                    [(ngModel)]="searchValue"
                                                    name="searchValue"
                                                    type="search"
                                                    class="form-control"
                                                    placeholder="Search..."
                                                    (keyup)="filterUpdate($event)"
                                                    (search)="filterUpdate($event)"
                                            /></label>
                                        </div>
                                        <div class="col-10 col-md-6 mt-2 ml-1 ml-md-0 mt-md-0">
                                            <fieldset class="form-group mb-0">
                                                <ng-select
                                                        [items]="selectStatus"
                                                        [(ngModel)]="selectedStatus"
                                                        bindLabel="name"
                                                        placeholder="Select Status"
                                                        (change)="filterByStatus($event)"
                                                ></ng-select>
                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--/ Invoice List Header -->

                            <!-- Invoice List Table -->
                            <ngx-datatable
                                    [rows]="rowsProducts"
                                    [rowHeight]="100"
                                    class="bootstrap core-bootstrap"
                                    [limit]="selectedOption"
                                    [columnMode]="ColumnMode.force"
                                    [headerHeight]="50"
                                    [footerHeight]="50"
                                    [scrollbarH]="true"
                                    id="prodTable"
                            >

                                <ngx-datatable-column name="Product" prop="name" [width]="650">
                                    <ng-template let-row="row" let-name="value" ngx-datatable-cell-template>
                                        <div class="d-flex align-items-center">
                                            <div>
                                                <img
                                                        class="rounded-circle mr-1"
                                                        src="{{ row.main_image }}"
                                                        height="50"
                                                        width="50"
                                                        alt="datatable-avatar"
                                                />
                                            </div>
                                            <div class="cell-line-height">
                                                <span class="font-weight-bold d-block text-nowrap font-medium-1">{{ name  | slice:0:90}}</span>
                                                <span class="text-muted font-small-2">{{ row.subcategory.name }}</span>
                                            </div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column name="Sales Price" prop="sale_price" [width]="20">
                                    <ng-template let-sale_price="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold"> ${{ sale_price }}</span>
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column name="Quantity" prop="qty" [width]="20">
                                    <ng-template let-all_qty="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold">{{ all_qty  }}</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="status" prop="stock_status" [width]="30">
                                    <ng-template let-stock_status="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold">{{ stock_status  }}</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Sale Status" prop="sale_status" [width]="30">
                                    <ng-template let-sale_status="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold" *ngIf="sale_status==1">In Sale</span>
                                        <span class="font-weight-bold" *ngIf="sale_status==0">Out Of Sale</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Feature Status" prop="feature_status" [width]="50">
                                    <ng-template let-feature_status="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold" *ngIf="feature_status==1">In feature</span>
                                        <span class="font-weight-bold" *ngIf="feature_status==0">Out Of feature</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Actions" [width]="20" [sortable]="false">
                                    <ng-template ngx-datatable-cell-template let-row="row">
                                        <div class="d-flex align-items-center col-actions">
                                            <div ngbDropdown container="body">
                                                <button ngbDropdownToggle type="button"
                                                        class="btn icon-btn btn-sm hide-arrow px-0" rippleEffect>
                                                    <i data-feather="more-vertical" size="18"
                                                       class="cursor-pointer"></i>
                                                </button>
                                                <div ngbDropdownMenu>
                                                    <a routerLink="/apps/e-commerce/details/{{ row.id }}"
                                                       ngbDropdownItem>
                                                        <i data-feather="eye" class="mr-1"></i>
                                                        Preview product
                                                    </a>
                                                    <a (click)="addToCart(row.id)" ngbDropdownItem>
                                                        <i data-feather="shopping-cart" class="mr-1"></i>
                                                        Add To Customer Cart
                                                    </a>
                                                    <a (click)="makeVendorOrder(row.id)" ngbDropdownItem>
                                                        <i data-feather="plus-circle" class="mr-1"></i>
                                                        Add To Vendors Cart
                                                    </a>
                                                    <a routerLink="/apps/invoice/products-edit-form/{{ row.id }}"
                                                       ngbDropdownItem>
                                                        <i data-feather="edit" class="mr-1"></i>
                                                        Edit
                                                    </a>
                                                    <a (click)="deleteProd(row.id)" ngbDropdownItem>
                                                        <i data-feather="trash" class="mr-1"></i>
                                                        Delete
                                                    </a>
                                                    <a *ngIf="row.sale_status ==0" (click)="open(content, row)"
                                                       ngbDropdownItem>
                                                        <i data-feather="tag" class="mr-1"></i>
                                                        Put In Sale
                                                    </a>
                                                    <a *ngIf="row.sale_status ==1" (click)="deleteFromSale(row.id)"
                                                       ngbDropdownItem>
                                                        <i data-feather="trash" class="mr-1"></i>
                                                        Remove From Sale
                                                    </a>
                                                    <a *ngIf="row.feature_status ==0" (click)="inFeature(row.id)"
                                                       ngbDropdownItem>
                                                        <i data-feather="tag" class="mr-1"></i>
                                                        Put In Feature
                                                    </a>
                                                    <a *ngIf="row.feature_status ==1"
                                                       (click)="deleteFromFeature(row.id)" ngbDropdownItem>
                                                        <i data-feather="trash" class="mr-1"></i>
                                                        Remove From Feature
                                                    </a>

                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>
                            </ngx-datatable>
                            <!--/ Invoice List Table -->
                        </div>
                    </section>
                </ng-template>
            </li>
            <li [ngbNavItem]="2">
                <a class="width-200 height-50 d-flex align-items-center justify-content-center mr-1 ml-50 my-1 shadow"
                   ngbNavLink>InSale Products list</a>
                <ng-template ngbNavContent>
                    <section class="invoice-list-wrapper">
                        <div class="card">
                            <!-- Invoice List Header -->
<!--                            <div class="row">-->
<!--                                <div class="col-md-6 col-lg-4 col-12">-->
<!--                                    <div class="d-flex justify-content-between align-items-center m-1">-->
<!--                                        <div class="d-flex align-items-center">-->
<!--                                            <label class="d-flex align-items-center"-->
<!--                                            >Show-->
<!--                                                <select class="form-control mx-25" [(ngModel)]="selectedOption">-->
<!--                                                    <option value="5">5</option>-->
<!--                                                    <option value="10">10</option>-->
<!--                                                    <option value="25">25</option>-->
<!--                                                    <option value="50">50</option>-->
<!--                                                    <option value="100">100</option>-->
<!--                                                </select>-->
<!--                                            </label>-->
<!--                                            <button class="btn btn-primary ml-2"-->
<!--                                                    routerLink="/dashboard/products-addition" rippleEffect>Add Product-->
<!--                                            </button>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div-->
<!--                                        class="-->
<!--              col-md-8 col-lg-4 col-12-->
<!--              d-flex-->
<!--              align-items-center-->
<!--              offset-lg-2-->
<!--              sr7-d-->
<!--            "-->
<!--                                >-->
<!--                                    <div class="d-flex pr-1 pb-1 pb-md-0 align-items-center w-100 sr7-3">-->
<!--                                        <div class="col-10 col-md-6 pr-0 sr7-2">-->
<!--                                            <label class="d-flex align-items-center mb-0 ml-1 ml-md-0 sr7-1"-->
<!--                                            ><input-->
<!--                                                    [(ngModel)]="searchValue"-->
<!--                                                    name="searchValue"-->
<!--                                                    type="search"-->
<!--                                                    class="form-control"-->
<!--                                                    placeholder="Search..."-->
<!--                                                    (keyup)="filterUpdate($event)"-->
<!--                                                    (search)="filterUpdate($event)"-->
<!--                                            /></label>-->
<!--                                        </div>-->
<!--                                        <div class="col-10 col-md-6 mt-2 ml-1 ml-md-0 mt-md-0">-->
<!--                                            <fieldset class="form-group mb-0">-->
<!--                                                <ng-select-->
<!--                                                        [items]="selectStatus"-->
<!--                                                        [(ngModel)]="selectedStatus"-->
<!--                                                        bindLabel="name"-->
<!--                                                        placeholder="Select Status"-->
<!--                                                        (change)="filterByStatus($event)"-->
<!--                                                ></ng-select>-->
<!--                                            </fieldset>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
                            <!--/ Invoice List Header -->

                            <!-- Invoice List Table -->
                            <ngx-datatable
                                    [rows]="rowsInSaleProducts"
                                    [rowHeight]="100"
                                    class="bootstrap core-bootstrap"
                                    [limit]="selectedOption"
                                    [columnMode]="ColumnMode.force"
                                    [headerHeight]="50"
                                    [footerHeight]="50"
                                    [scrollbarH]="true"
                                    id="inSaleProdTable"
                            >
                                <ngx-datatable-column name="Product" prop="name" [width]="650">
                                    <ng-template let-row="row" let-name="value" ngx-datatable-cell-template>
                                        <div class="d-flex align-items-center">
                                            <div>
                                                <img
                                                        class="rounded-circle mr-1"
                                                        src="{{ row.main_image }}"
                                                        height="50"
                                                        width="50"
                                                        alt="datatable-avatar"
                                                />
                                            </div>
                                            <div class="cell-line-height">
                                                <span class="font-weight-bold d-block text-nowrap font-medium-1">{{ name  | slice:0:90}}</span>
                                                <span class="text-muted font-small-2">{{ row.subcategory.name }}</span>
                                            </div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column name="Sales Price" prop="sale_price" [width]="20">
                                    <ng-template let-sale_price="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold"> ${{ sale_price }}</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Quantity" prop="qty" [width]="20">
                                    <ng-template let-all_qty="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold">{{ all_qty  }}</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="status" prop="stock_status" [width]="30">
                                    <ng-template let-stock_status="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold">{{ stock_status  }}</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Sale Status" prop="sale_status" [width]="30">
                                    <ng-template let-sale_status="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold" *ngIf="sale_status==1">In Sale</span>
                                        <span class="font-weight-bold" *ngIf="sale_status==0">Out Of Sale</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Actions" [width]="20" [sortable]="false">
                                    <ng-template ngx-datatable-cell-template let-row="row">
                                        <div class="d-flex align-items-center col-actions">
                                            <div ngbDropdown container="body">
                                                <button ngbDropdownToggle type="button"
                                                        class="btn icon-btn btn-sm hide-arrow px-0" rippleEffect>
                                                    <i data-feather="more-vertical" size="18"
                                                       class="cursor-pointer"></i>
                                                </button>
                                                <div ngbDropdownMenu>
                                                    <a routerLink="/apps/e-commerce/details/{{ row.id }}"
                                                       ngbDropdownItem>
                                                        <i data-feather="eye" class="mr-1"></i>
                                                        Preview product
                                                    </a>
                                                    <a (click)="addToCart(row.id)" ngbDropdownItem>
                                                        <i data-feather="shopping-cart" class="mr-1"></i>
                                                        Add To Customer Cart
                                                    </a>
                                                    <a (click)="makeVendorOrder(row.id)" ngbDropdownItem>
                                                        <i data-feather="plus-circle" class="mr-1"></i>
                                                        Add To Vendors Cart
                                                    </a>
                                                    <a routerLink="/apps/invoice/products-edit-form/{{ row.id }}"
                                                       ngbDropdownItem>
                                                        <i data-feather="edit" class="mr-1"></i>
                                                        Edit
                                                    </a>
                                                    <a (click)="deleteProd(row.id)" ngbDropdownItem>
                                                        <i data-feather="trash" class="mr-1"></i>
                                                        Delete
                                                    </a>
                                                    <a *ngIf="row.sale_status ==1" (click)="deleteFromSale(row.id)"
                                                       ngbDropdownItem>
                                                        <i data-feather="trash" class="mr-1"></i>
                                                        Remove From Sale
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>
                            </ngx-datatable>
                            <!--/ Invoice List Table -->
                        </div>
                    </section>
                </ng-template>
            </li>
            <li [ngbNavItem]="3">
                <a class="width-200 height-50 d-flex align-items-center justify-content-center mr-1 ml-50 my-1 shadow"
                   ngbNavLink>InFeature Products list</a>
                <ng-template ngbNavContent>
                    <section class="invoice-list-wrapper">
                        <div class="card">
                            <!-- Invoice List Header -->
<!--                            <div class="row">-->
<!--                                <div class="col-md-6 col-lg-4 col-12">-->
<!--                                    <div class="d-flex justify-content-between align-items-center m-1">-->
<!--                                        <div class="d-flex align-items-center">-->
<!--                                            <label class="d-flex align-items-center"-->
<!--                                            >Show-->
<!--                                                <select class="form-control mx-25" [(ngModel)]="selectedOption">-->
<!--                                                    <option value="5">5</option>-->
<!--                                                    <option value="10">10</option>-->
<!--                                                    <option value="25">25</option>-->
<!--                                                    <option value="50">50</option>-->
<!--                                                    <option value="100">100</option>-->
<!--                                                </select>-->
<!--                                            </label>-->
<!--                                            <button class="btn btn-primary ml-2"-->
<!--                                                    routerLink="/dashboard/products-addition" rippleEffect>Add Product-->
<!--                                            </button>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                                <div-->
<!--                                        class="-->
<!--              col-md-8 col-lg-4 col-12-->
<!--              d-flex-->
<!--              align-items-center-->
<!--              offset-lg-2-->
<!--              sr7-d-->
<!--            "-->
<!--                                >-->
<!--                                    <div class="d-flex pr-1 pb-1 pb-md-0 align-items-center w-100 sr7-3">-->
<!--                                        <div class="col-10 col-md-6 pr-0 sr7-2">-->
<!--                                            <label class="d-flex align-items-center mb-0 ml-1 ml-md-0 sr7-1"-->
<!--                                            ><input-->
<!--                                                    [(ngModel)]="searchValue"-->
<!--                                                    name="searchValue"-->
<!--                                                    type="search"-->
<!--                                                    class="form-control"-->
<!--                                                    placeholder="Search..."-->
<!--                                                    (keyup)="filterUpdate($event)"-->
<!--                                                    (search)="filterUpdate($event)"-->
<!--                                            /></label>-->
<!--                                        </div>-->
<!--                                        <div class="col-10 col-md-6 mt-2 ml-1 ml-md-0 mt-md-0">-->
<!--                                            <fieldset class="form-group mb-0">-->
<!--                                                <ng-select-->
<!--                                                        [items]="selectStatus"-->
<!--                                                        [(ngModel)]="selectedStatus"-->
<!--                                                        bindLabel="name"-->
<!--                                                        placeholder="Select Status"-->
<!--                                                        (change)="filterByStatus($event)"-->
<!--                                                ></ng-select>-->
<!--                                            </fieldset>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
                            <!--/ Invoice List Header -->

                            <!-- Invoice List Table -->
                            <ngx-datatable
                                    [rows]="rowsInFeatureProducts"
                                    [rowHeight]="100"
                                    class="bootstrap core-bootstrap"
                                    [limit]="selectedOption"
                                    [columnMode]="ColumnMode.force"
                                    [headerHeight]="50"
                                    [footerHeight]="50"
                                    [scrollbarH]="true"
                                    id="prodInFeatureTable"
                            >
                                <ngx-datatable-column name="Product" prop="name" [width]="650">
                                    <ng-template let-row="row" let-name="value" ngx-datatable-cell-template>
                                        <div class="d-flex align-items-center">
                                            <div>
                                                <img
                                                        class="rounded-circle mr-1"
                                                        src="{{ row.main_image }}"
                                                        height="50"
                                                        width="50"
                                                        alt="datatable-avatar"
                                                />
                                            </div>
                                            <div class="cell-line-height">
                                                <span class="font-weight-bold d-block text-nowrap font-medium-1">{{ name  | slice:0:90}}</span>
                                                <span class="text-muted font-small-2">{{ row.subcategory.name }}</span>
                                            </div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>

                                <ngx-datatable-column name="Sales Price" prop="sale_price" [width]="20">
                                    <ng-template let-sale_price="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold"> ${{ sale_price }}</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Quantity" prop="qty" [width]="20">
                                    <ng-template let-all_qty="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold">{{ all_qty  }}</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="status" prop="stock_status" [width]="30">
                                    <ng-template let-stock_status="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold">{{ stock_status  }}</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Feature Status" prop="feature_status" [width]="50">
                                    <ng-template let-feature_status="value" ngx-datatable-cell-template>
                                        <span class="font-weight-bold" *ngIf="feature_status==1">In feature</span>
                                        <span class="font-weight-bold" *ngIf="feature_status==0">Out Of feature</span>
                                    </ng-template>
                                </ngx-datatable-column>
                                <ngx-datatable-column name="Actions" [width]="20" [sortable]="false">
                                    <ng-template ngx-datatable-cell-template let-row="row">
                                        <div class="d-flex align-items-center col-actions">
                                            <div ngbDropdown container="body">
                                                <button ngbDropdownToggle type="button"
                                                        class="btn icon-btn btn-sm hide-arrow px-0" rippleEffect>
                                                    <i data-feather="more-vertical" size="18"
                                                       class="cursor-pointer"></i>
                                                </button>
                                                <div ngbDropdownMenu>
                                                    <a routerLink="/apps/e-commerce/details/{{ row.id }}"
                                                       ngbDropdownItem>
                                                        <i data-feather="eye" class="mr-1"></i>
                                                        Preview product
                                                    </a>
                                                    <a (click)="addToCart(row.id)" ngbDropdownItem>
                                                        <i data-feather="shopping-cart" class="mr-1"></i>
                                                        Add To Customer Cart
                                                    </a>
                                                    <a (click)="makeVendorOrder(row.id)" ngbDropdownItem>
                                                        <i data-feather="plus-circle" class="mr-1"></i>
                                                        Add To Vendors Cart
                                                    </a>
                                                    <a routerLink="/apps/invoice/products-edit-form/{{ row.id }}"
                                                       ngbDropdownItem>
                                                        <i data-feather="edit" class="mr-1"></i>
                                                        Edit
                                                    </a>
                                                    <a (click)="deleteProd(row.id)" ngbDropdownItem>
                                                        <i data-feather="trash" class="mr-1"></i>
                                                        Delete
                                                    </a>
                                                    <a *ngIf="row.feature_status ==1"
                                                       (click)="deleteFromFeature(row.id)" ngbDropdownItem>
                                                        <i data-feather="trash" class="mr-1"></i>
                                                        Remove From Feature
                                                    </a>

                                                </div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </ngx-datatable-column>
                            </ngx-datatable>
                            <!--/ Invoice List Table -->
                        </div>
                    </section>
                </ng-template>
            </li>
        </ul>
        <div [ngbNavOutlet]="nav" class="mt-2"></div>
        <!--/ Invoice List -->
    </div>
</div>
<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel1">Put sale Price</h4>
        <button type="button" class="close" (click)="modal.dismiss('Cross click')" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body" tabindex="0" ngbAutofocus>
        <form action="#" [formGroup]="addForm">
            <label class="form-label" for="sale_price">Name: </label>
            <div class="form-group">
                <input
                        type="number"
                        id="sale_price"
                        placeholder="0.00$"
                        class="form-control"
                        aria-describedby="sale_price"
                        formControlName="sale_price"
                />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="inSale();modal.close('Accept click')"
                        rippleEffect>
                    Submit
                </button>
            </div>
        </form>
    </div>

</ng-template>
<ng-template #contentEdit let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="myModalLabel2">Message</h4>
        <button type="button" class="close" (click)="modal.dismiss('Cross click')" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body" tabindex="0" ngbAutofocus>
        <p>{{message}}</p>
    </div>
    <div class="modal-footer">
        <button type="button" class="sr7-btn btn btn-primary" (click)="modal.close('Accept click')" rippleEffect
                *ngIf="message!=='Something Went Wrong'">
            Close
        </button>
    </div>


</ng-template>

