<div class="row">
  <div class="col-12">
    <div class="card" style="border-radius: 8px">
      <div class="card-body">
        <div class="row">
          <div class="col-6 d-flex justify-content-start align-items-center">
            <span class="me-3">
              <h6 class="fw-semibold mb-0">All Ads</h6>
            </span>
            <label class="d-flex align-items-center mx-2">
              <ng-select [items]="Filters"
                         class="form-control m-0 p-0"
                         [clearable]="false"
                         bindLabel="name"
                         bindValue="id"
                         [(ngModel)]="selectedFilter">
              </ng-select>
            </label>
            <label class="d-flex align-items-center mx-2">
              <ng-select [items]="Groups"
                         class="form-control m-0 p-0"
                         [clearable]="false"
                         bindLabel="name"
                         bindValue="id"
                         [(ngModel)]="selectedGroup">
              </ng-select>
            </label>
          </div>
          <div class="col-6 d-flex justify-content-end">
            <div class="mx-2 position-relative w-50">
              <i style="right: 6px; top: 8px; cursor: pointer" class="fs-3 bx bx-search position-absolute"></i>
              <input type="email" class="form-control" placeholder="Search">
            </div>
            <div class="mx-2">
              <button (click)="open(content, 0)" class="btn btn-primary mb-0">
                Add Ads
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-3 position-relative" *ngFor="let ad of allLookupsData">
        <div class="dropdown position-absolute" style="font-size: 20px; top: 5px; left: 25px; z-index: 1000"
             ngbDropdown placement="bottom-left">
          <a ngbDropdownToggle href="javascript:" data-toggle="dropdown">
            <i class="icon feather icon-more-horizontal text-secondary"></i>
          </a>
          <div ngbDropdownMenu class="dropdown-menu dropdown-menu-end p-0">
            <ul class="p-0 m-0">
              <li>
                <button class="dropdown-item" (click)="open(content, 1, ad.id)">
                  <i class="feather icon-edit"></i>
                  Edit
                </button>
                <button class="dropdown-item" (click)="open(content, 2, ad.id)">
                  <i class="feather icon-eye"></i>
                  Preview
                </button>
              </li>
              <li>
                <button class="dropdown-item" (click)="delete(ad.id)">
                  <i class="feather icon-trash"></i>
                  Delete
                </button>
              </li>
            </ul>
          </div>
        </div>
        <div class="card card-border-radius ">
          <div class="ads-cards-img">
            <img class="w-100 card-border-radius ads-cards"
                 src="{{domain+'ReviewSectionClientImages/'+ad.imagePath}}" alt="">
          </div>
          <div class="py-3 px-2 text-start">
            <h6 class="fw-bold">{{ ad.title }}</h6>
            <p class="mb-0 p-cards">
              {{ad.review| slice: 0 : 60}} {{ad.review.length > 60? '.....': ''}}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<input
  style="display: none"
  type="file" (change)="onImgFileChanged($event)"
  #ImageInput>
<input
  style="display: none"
  type="file" (change)="onVidFileChanged($event)"
  #VideoInput>
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Our Value</h4>
    <div class="d-flex">
      <img *ngIf="!isForm && modalStatus == 2" (click)="delete(valueId)"
           alt="" src="assets/icon/custom-icons/delete.png" class="mx-2 pointer">
      <img *ngIf="!isForm && modalStatus ==2" (click)="isForm =! isForm; modalStatus = 1"
           alt="" src="assets/icon/custom-icons/edit.png" class="mx-2 pointer">
    </div>
  </div>
  <div class="modal-body">
    <form class="row" [formGroup]="addFrom" (submit)="submit()">
      <div class="col-12">
        <div class="" style="border-radius: 8px">
          <div class="">
            <h5 class="fw-semibold mb-3">Basic Info</h5>
            <div class="row px-2" style="{{isForm? '' : 'pointer-events: none'}}">
              <div class="col-6 mb-4">
                <label class="text-start mb-1 fw-semibold text-black">Title in English</label>
                <input type="text" class="form-control" formControlName="TitleEn"
                       [ngClass]="{'is-invalid': (addFrom.get('TitleEn')?.dirty && addFrom.get('TitleEn')?.invalid && addFrom.get('TitleEn')?.touched) ||
                 (addFrom.get('TitleEn')?.invalid && addFrom.get('TitleEn')?.touched) , 'is-valid': isForm && addFrom.get('TitleEn')?.valid }">
              </div>
              <div class="col-6 mb-4">
                <label class="text-start mb-1 fw-semibold text-black">Title in Arabic</label>
                <input type="text" class="form-control" formControlName="TitleAr"
                       [ngClass]="{'is-invalid': (addFrom.get('TitleAr')?.dirty && addFrom.get('TitleAr')?.invalid && addFrom.get('TitleAr')?.touched) ||
                 (addFrom.get('TitleAr')?.invalid && addFrom.get('TitleAr')?.touched) , 'is-valid': isForm && addFrom.get('TitleAr')?.valid }">
              </div>
              <div class="col-6 mb-4">
                <label class="text-start mb-1 fw-semibold text-black">Client’s Name in English</label>
                <input type="text" class="form-control" formControlName="NameEn"
                       [ngClass]="{'is-invalid': (addFrom.get('NameEn')?.dirty && addFrom.get('NameEn')?.invalid && addFrom.get('NameEn')?.touched) ||
                 (addFrom.get('NameEn')?.invalid && addFrom.get('NameEn')?.touched) , 'is-valid': isForm && addFrom.get('NameEn')?.valid }">
              </div>
              <div class="col-6 mb-4">
                <label class="text-start mb-1 fw-semibold text-black">Client’s Name in Arabic</label>
                <input type="text" class="form-control" formControlName="NameAr"
                       [ngClass]="{'is-invalid': (addFrom.get('NameAr')?.dirty && addFrom.get('NameAr')?.invalid && addFrom.get('NameAr')?.touched) ||
                 (addFrom.get('NameAr')?.invalid && addFrom.get('NameAr')?.touched) , 'is-valid': isForm && addFrom.get('NameAr')?.valid }">
              </div>
              <div class="col-6 mb-4">
                <label class="text-start mb-1 fw-semibold text-black">Client’s Job Title in English</label>
                <input type="text" class="form-control" formControlName="JopTitleEn"
                       [ngClass]="{'is-invalid': (addFrom.get('JopTitleEn')?.dirty && addFrom.get('JopTitleEn')?.invalid && addFrom.get('JopTitleEn')?.touched) ||
                 (addFrom.get('JopTitleEn')?.invalid && addFrom.get('JopTitleEn')?.touched) , 'is-valid': isForm && addFrom.get('JopTitleEn')?.valid }">
              </div>
              <div class="col-6 mb-4">
                <label class="text-start mb-1 fw-semibold text-black">Job Title in Arabic</label>
                <input type="text" class="form-control" formControlName="JopTitleAr"
                       [ngClass]="{'is-invalid': (addFrom.get('JopTitleAr')?.dirty && addFrom.get('JopTitleAr')?.invalid && addFrom.get('JopTitleAr')?.touched) ||
                 (addFrom.get('JopTitleAr')?.invalid && addFrom.get('JopTitleAr')?.touched) , 'is-valid': isForm && addFrom.get('JopTitleAr')?.valid }">
              </div>

              <div class="col-6 mb-4">
                <label class="text-start mb-1 fw-semibold text-black">Review in English </label>
                <textarea rows="15" type="text" class="form-control" formControlName="ReviewEn"
                          [ngClass]="{'is-invalid': (addFrom.get('ReviewEn')?.dirty && addFrom.get('ReviewEn')?.invalid && addFrom.get('ReviewEn')?.touched) ||
                 (addFrom.get('ReviewEn')?.invalid && addFrom.get('ReviewEn')?.touched) , 'is-valid': isForm && addFrom.get('ReviewEn')?.valid }">
                </textarea>
              </div>
              <div class="col-6 mb-4">
                <label class="text-start mb-1 fw-semibold text-black">Review in Arabic </label>
                <textarea rows="15" type="text" class="form-control" formControlName="ReviewAr"
                          [ngClass]="{'is-invalid': (addFrom.get('ReviewAr')?.dirty && addFrom.get('ReviewAr')?.invalid && addFrom.get('ReviewAr')?.touched) ||
                 (addFrom.get('ReviewAr')?.invalid && addFrom.get('ReviewAr')?.touched) , 'is-valid': isForm && addFrom.get('ReviewAr')?.valid }">
                </textarea>
              </div>
              <div class="col-12 mb-4 row">
                <div class="col-6 px-0">
                  <div class="position-relative" style="border-radius: 8px">
                    <div class="row">
                      <div class="col-12 d-flex justify-content-between">
                        <div class="d-flex align-items-center px-3" style="overflow: auto; white-space: nowrap;">
                          <h5 class="fw-semibold mb-3">Client’s Image</h5>
                        </div>
                        <div class="d-flex align-items-center" style="overflow: auto; white-space: nowrap;">
                          <div class="d-flex" style="overflow: auto; white-space: nowrap;">
                            <div class="mx-2 position-relative" style="border: 1px solid #eeee; border-radius: 4px"
                                 *ngIf="images.length > 0">
                              <i *ngIf="isForm" class="position-absolute bx bx-x-circle text-white"
                                 style="background: red; top: 1px; right: -4px; font-size: 1rem;
                              border-radius: 50% " (click)="removeImage()"
                              ></i>
                              <img class="p-2" width="100" height="100"  [src]="images[0].completePath">
                            </div>
                          </div>
                          <div class="d-flex" *ngIf="images.length == 0" (click)="ImageInput.click()"
                               style="overflow: auto; white-space: nowrap;">
                            <div class="px-2">
                              <img width="100" height="100" src="/assets/icon/custom-icons/addImage.png" alt="">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-6 px-0">
                  <div class="position-relative" style="border-radius: 8px">
                    <div class="row">
                      <div class="col-12 d-flex justify-content-between">
                        <div class="d-flex align-items-center px-3" style="overflow: auto; white-space: nowrap;">
                          <h5 class="fw-semibold mb-3">Client’s Video</h5>
                        </div>
                        <div class="d-flex align-items-center" style="overflow: auto; white-space: nowrap;">
                          <div class="d-flex" style="overflow: auto; white-space: nowrap;">
                            <div class="mx-2 position-relative" style="border: 1px solid #eeee; border-radius: 4px"
                                 *ngIf="videos.length > 0">
                              <i *ngIf="isForm" class="position-absolute bx bx-x-circle text-white"
                                 style="background: red; top: 1px; right: -4px; font-size: 1rem;
                              border-radius: 50% " (click)="removeVideo()"
                              ></i>
                              <video class="p-2" width="100" height="100">
                                <source [src]="videos[0].completePath" type="video/mp4">
                              </video>
                            </div>
                          </div>
                          <div class="d-flex" *ngIf="videos.length == 0" (click)="VideoInput.click()"
                               style="overflow: auto; white-space: nowrap;">
                            <div class="px-2">
                              <img width="100" height="100" src="/assets/icon/custom-icons/default-vid.png" alt="">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-12" *ngIf="isForm">
        <div class="d-flex justify-content-end">
          <button class="btn btn-primary" type="submit">Publish</button>
          <button class="btn btn-outline-primary" (click)="isForm =! isForm; modal.dismiss('Cross click')">Cancel</button>
        </div>
      </div>
    </form>
  </div>
</ng-template>


